<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>Test-Modus: GIF Sender</title>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
    <style>
        body { font-family: sans-serif; background: #121212; color: white; text-align: center; padding: 50px; }
        input { padding: 12px; margin: 5px; border-radius: 5px; border: none; width: 300px; }
        button { padding: 12px 20px; background: #00e676; border: none; border-radius: 5px; cursor: pointer; font-weight: bold; }
        .info { color: #888; font-size: 0.8em; margin-top: 10px; }
    </style>
</head>
<body>

    <h2>ðŸ›  Test-Panel (Ohne Login)</h2>
    <input type="text" id="username" placeholder="Dein Name (Test)"><br>
    <input type="text" id="gif-url" placeholder="Giphy Link hier rein"><br>
    <button onclick="sendGif()">GIF an OBS senden</button>
    <p id="status"></p>

    <script>
        const firebaseConfig = { /* DEINE CONFIG HIER */ };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.database();

        function sendGif() {
            const name = document.getElementById('username').value || "Anonym";
            const urlInput = document.getElementById('gif-url').value;
            const status = document.getElementById('status');

            if (!urlInput.includes("giphy.com")) {
                status.innerText = "Bitte nur Giphy-Links!";
                return;
            }

            // GIF ID extrahieren
            const parts = urlInput.split("-");
            const gifId = parts[parts.length - 1].replace("/", "");

            db.ref('activeGifs').push({
                gifId: gifId,
                userName: name,
                timestamp: firebase.database.ServerValue.TIMESTAMP
            }).then(() => {
                status.innerText = "Erfolgreich gesendet!";
                document.getElementById('gif-url').value = "";
            });
        }
    </script>
</body>
</html>
