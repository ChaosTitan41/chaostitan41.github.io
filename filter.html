<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>Streamer.bot Filter Panel</title>
    <style>
        body { font-family: sans-serif; background: #121212; color: white; text-align: center; padding: 50px; }
        .btn { padding: 15px 30px; font-size: 20px; margin: 10px; cursor: pointer; border-radius: 8px; border: none; font-weight: bold; }
        .alien { background-color: #4CAF50; color: white; }
        .ghost { background-color: #f1f1f1; color: #333; }
        #status { margin-top: 20px; color: #888; }
    </style>
</head>
<body>

    <h1>Filter Steuerung</h1>

    <button class="btn alien" onclick="sendToBot('alien')">ALIEN FILTER</button>
    <button class="btn ghost" onclick="sendToBot('ghost')">GHOST FILTER</button>

    <p id="status">Bereit...</p>

   <script>
    function sendToBot(filterName) {
        // Deine URL
        const ngrokUrl = "wss://aditya-unfeudal-brock.ngrok-free.dev";
        const socket = new WebSocket(ngrokUrl);

        socket.onopen = () => {
            // Wir bauen das Paket EXAKT so, wie der Bot es sehen will
            const payload = {
                "request": "ExecuteAction",
                "id": "123", // Eine ID ist Pflicht
                "actionName": "Web_Filter_Handler",
                "args": {
                    "meinFilter": filterName 
                }
            };

            // WICHTIG: Wir loggen in die Browser-Konsole, was wir schicken
            console.log("Sende an Bot:", JSON.stringify(payload));
            
            socket.send(JSON.stringify(payload));
            
            // Etwas lÃ¤nger warten, damit der Bot Zeit zum Lesen hat
            setTimeout(() => socket.close(), 250);
        };

        socket.onerror = (err) => {
            console.error("Websocket Fehler!", err);
        };
    }
</script>
</body>
</html>
